generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id                    String    @id @default(uuid())
  email                 String    @unique
  password              String
  name                  String?
  hubspotAccessToken    String?   @map("hubspot_access_token")
  hubspotRefreshToken   String?   @map("hubspot_refresh_token")
  hubspotOwnerId        String?   @map("hubspot_owner_id")
  hubspotTokenExpiresAt DateTime? @map("hubspot_token_expires_at")
  createdAt             DateTime  @default(now()) @map("created_at")
  updatedAt             DateTime  @updatedAt @map("updated_at")

  @@map("users")
}

model OAuthState {
  id        String   @id @default(uuid())
  state     String   @unique
  userId    String
  expiresAt DateTime
  createdAt DateTime @default(now())

  @@map("oauth_states")
  @@index([state])
  @@index([expiresAt])
}
